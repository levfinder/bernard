{% extends 'dashboard/base.html' %}

{% block nav-drivers %}is-active{% endblock %}

{% block main %}
<div>
<div class="columns is-gapless" style="height: calc(100vh - 3.25rem);">
  <div class="column is-one-thirds media-items">
    <div class="section">
    {% for driver in drivers %}
    <article class="media">
      <div class="media-content">
        <div class="content">
          <p><strong>{{ driver.name }}</strong><br/><small>{{ driver.start_address }}</small></p>
        </div>
      </div>
      <nav class="level">
        <div class="level-left">
        </div>
        <div class="level-right">
          <div class="level-item">
            <form action="{% url 'driver' driver.id %}" method="post">
              {% csrf_token %}
              <input type="hidden" name="_method" value="DELETE">
              <button class="button" type="submit">
                <span class="icon">
                  <i class="fas fa-trash"></i>
                </span>
              </button>
            </form>
          </div>
        </div>
      </nav>
    </article>
    {% endfor %}
  </div>
  </div>

  <div class="column is-two-thirds">
    <div id="map" style="height: 100%;"></div>
  </div>
</div>
</div>

<script>
var map;
function initMap() {
  map = new google.maps.Map(document.getElementById('map'), {
    center: {lat: -34.397, lng: 150.644},
    zoom: 8
  });
}
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCUbOT9j-li5pxGSJYIFnjC_lnjxQdjxCI&callback=initMap" async defer></script>

{% endblock %}
